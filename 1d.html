<!DOCTYPE html>
<meta charset="utf-8">
<title>One Dimensional Perlin Fun</title>
<script src="mt.js"></script>
<script src="perlin.js"></script>
<script>
onload = function() {
  var WIDTH = 640;
  var HEIGHT = 400;
  var SEED = 12194;
  var PERSISTENCE = 0.5;
  var OCTAVES = 4;
  var WAVELENGTH = WIDTH / 5;
  var VSCALE = HEIGHT;

  var canvas = document.createElement('canvas');
  canvas.width = WIDTH;
  canvas.height = HEIGHT;

  var ctx = canvas.getContext('2d');

  ctx.fillStyle = "#f0f0f0";
  ctx.strokeStyle = "black";
  ctx.fillRect(0, 0, WIDTH, HEIGHT);
  ctx.beginPath();

  var perlin = Perlin.LayeredNoise({
    seed: SEED,
    width: WIDTH,
    wavelength: WAVELENGTH,
    persistence: PERSISTENCE,
    octaves: OCTAVES,
    noise: Perlin.Noise1D
  });

  ctx.moveTo(0, HEIGHT-perlin.at(0) * VSCALE);
  for (var x = 1; x < WIDTH; x++)
    ctx.lineTo(x, HEIGHT-perlin.at(x) * VSCALE);

  ctx.stroke();

  document.body.appendChild(canvas);
};
</script>
